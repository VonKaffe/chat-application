<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://www.gstatic.com/firebasejs/4.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.10.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.10.1/firebase-messaging.js"></script>
    <meta charset="UTF-8">
    <title>Chat</title>
    <link rel="stylesheet" type="text/css" href="../css/chat.css">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">

</head>
<body>

<div id="chatHeader">
    <div id="title">
        <h1>Chat</h1>
    </div>

    <div id="username-div">
        <p id="usernameHeader">de</p>

    </div>
</div>


<div id="chat">
<div id="leftMenu">

    <div id="usersOnline">
        <h3 id="userOnline-header">Users Online</h3>
        <ul id="userUl">

        </ul>

    </div>

</div>

<div id="main">


    <div id="chatRoom-div">


        <div id="messageRight">

        </div>

        <div id="messageLeft">

        </div>

        <div id="messageRight2">

        </div>

        <input id="writeMessage" placeholder="Write Your Message Here...">
        <button id="logout" onclick="logout()">Logout</button>

    </div>
</div>

<div id="rightMenu">
    <div id="groups">
        <h3>Groups</h3>

    </div>

</div>
</div>
<script src="https://www.gstatic.com/firebasejs/4.10.1/firebase.js"></script>
<script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyCkInBPaJoHPKtdiAhd8DfWrYLFAc0zok0",
        authDomain: "chat-app-316ca.firebaseapp.com",
        databaseURL: "https://chat-app-316ca.firebaseio.com",
        projectId: "chat-app-316ca",
        storageBucket: "",
        messagingSenderId: "1085160280325"
    };
    firebase.initializeApp(config);
    var database = firebase.database();
    database.ref("usersOnline").on("value", function(onlineUsers){
        //console.log(onlineUser.val());
        document.getElementById("userUl").innerHTML = "";
        for(var displayName in onlineUsers.val()){
            var userlist = document.createElement('li');
            userlist.textContent = onlineUsers.val()[displayName].displayName;
            userlist.setAttribute('class', 'note');
            console.log(userlist);
            document.getElementById("userUl").appendChild(userlist);
        }
    });
</script>

<script src="index.js"></script>

</body>
</html>